CREATE TABLE account (id BIGINT AUTO_INCREMENT, wallet_id BIGINT NOT NULL, account_type_id BIGINT NOT NULL, heading VARCHAR(64) NOT NULL, number BIGINT NOT NULL, bank_id BIGINT NOT NULL, include_in_the_budget TINYINT(1) NOT NULL, closed TINYINT(1) DEFAULT '0' NOT NULL, balance DECIMAL(18, 2), overdrawn DECIMAL(18, 2), INDEX bank_id_idx (bank_id), INDEX wallet_id_idx (wallet_id), INDEX account_type_id_idx (account_type_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE account_type (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE advise (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, file_type_id BIGINT NOT NULL, INDEX file_type_id_idx (file_type_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), INDEX aff_company_id_idx (aff_company_id), INDEX source_id_idx (source_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), INDEX ass_source_id_idx (ass_source_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE asset (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE transaction (id BIGINT AUTO_INCREMENT, date DATE NOT NULL, amount DECIMAL(18, 2) NOT NULL, type VARCHAR(255) NOT NULL, category_id BIGINT NOT NULL, account_id BIGINT NOT NULL, validated TINYINT(1) DEFAULT '0' NOT NULL, payment_id BIGINT NOT NULL, payee_id BIGINT, description LONGTEXT, enabled TINYINT(1) DEFAULT '0' NOT NULL, max_ocurrences BIGINT, every BIGINT NOT NULL, unit VARCHAR(255) NOT NULL, next_on DATE, INDEX category_id_idx (category_id), INDEX account_id_idx (account_id), INDEX payment_id_idx (payment_id), INDEX payee_id_idx (payee_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE bank (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE category (id BIGINT AUTO_INCREMENT, wallet_id BIGINT NOT NULL, name VARCHAR(64) NOT NULL, income TINYINT(1) DEFAULT '0' NOT NULL, parent_category BIGINT, INDEX wallet_id_idx (wallet_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE city (id BIGINT AUTO_INCREMENT, state_id BIGINT NOT NULL, name VARCHAR(64) NOT NULL, INDEX state_id_idx (state_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), INDEX source_id_idx (source_id), INDEX assigned_to_idx (assigned_to), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_assets (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, asset_id BIGINT NOT NULL, estimated_value FLOAT(18, 2), INDEX client_id_idx (client_id), INDEX asset_id_idx (asset_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_expenses (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, expense_id BIGINT NOT NULL, amount FLOAT(18, 2) NOT NULL, payment FLOAT(18, 2) NOT NULL, payment_recurrence VARCHAR(255), comments LONGTEXT, INDEX client_id_idx (client_id), INDEX expense_id_idx (expense_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_file_version (id BIGINT, client_id BIGINT NOT NULL, department_id BIGINT NOT NULL, assigned_to BIGINT NOT NULL, file_type BIGINT NOT NULL, date_start DATETIME NOT NULL, date_end DATETIME NOT NULL, description LONGTEXT, is_active TINYINT(1) DEFAULT '0' NOT NULL, created_by BIGINT, updated_by BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_file (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, department_id BIGINT NOT NULL, assigned_to BIGINT NOT NULL, file_type BIGINT NOT NULL, date_start DATETIME NOT NULL, date_end DATETIME NOT NULL, description LONGTEXT, is_active TINYINT(1) DEFAULT '0' NOT NULL, created_by BIGINT, updated_by BIGINT, version BIGINT, INDEX client_id_idx (client_id), INDEX assigned_to_idx (assigned_to), INDEX file_type_idx (file_type), INDEX department_id_idx (department_id), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_incomes (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, income_id BIGINT NOT NULL, amount FLOAT(18, 2) NOT NULL, recurrence VARCHAR(255), comments LONGTEXT, INDEX client_id_idx (client_id), INDEX income_id_idx (income_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE client_liabilities (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, liabilities_id BIGINT NOT NULL, monthly_payment FLOAT(18, 2), balance_due FLOAT(18, 2), INDEX client_id_idx (client_id), INDEX liabilities_id_idx (liabilities_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE comment (id BIGINT AUTO_INCREMENT, client_file_id BIGINT NOT NULL, dm_user_id BIGINT, text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX client_file_id_idx (client_file_id), INDEX dm_user_id_idx (dm_user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE company (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, address VARCHAR(128), phone VARCHAR(32), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE company_expenses (id BIGINT AUTO_INCREMENT, wallet_id BIGINT NOT NULL, company_id BIGINT NOT NULL, expense_id BIGINT NOT NULL, amount FLOAT(18, 2) NOT NULL, tax FLOAT(18, 2), payment FLOAT(18, 2), description LONGTEXT, type VARCHAR(255), enabled TINYINT(1) DEFAULT '0' NOT NULL, max_occurrences INT, must_occurrences INT, every BIGINT NOT NULL, unit VARCHAR(255) NOT NULL, next_on DATE, last_execution_date DATE, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX company_expenses_type_idx (type), INDEX wallet_id_idx (wallet_id), INDEX company_id_idx (company_id), INDEX expense_id_idx (expense_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE company_expenses (id BIGINT AUTO_INCREMENT, wallet_id BIGINT NOT NULL, company_id BIGINT NOT NULL, expense_id BIGINT NOT NULL, amount FLOAT(18, 2) NOT NULL, tax FLOAT(18, 2), payment FLOAT(18, 2), description LONGTEXT, type VARCHAR(255), enabled TINYINT(1) DEFAULT '0' NOT NULL, max_occurrences INT, must_occurrences INT, every BIGINT NOT NULL, unit VARCHAR(255) NOT NULL, next_on DATE, last_execution_date DATE, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX wallet_id_idx (wallet_id), INDEX company_id_idx (company_id), INDEX expense_id_idx (expense_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE department (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, css_class_list VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_area (id BIGINT AUTO_INCREMENT, dm_layout_id BIGINT, dm_page_view_id BIGINT, type VARCHAR(255) NOT NULL, INDEX dm_layout_id_idx (dm_layout_id), INDEX dm_page_view_id_idx (dm_page_view_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_auto_seo_translation (id BIGINT, slug VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, h1 VARCHAR(255), description VARCHAR(255), keywords VARCHAR(255), strip_words TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_auto_seo (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX dmAutoSeoModuleAction_idx (module, action), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_catalogue (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, source_lang VARCHAR(15) NOT NULL, target_lang VARCHAR(15) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_comment (id BIGINT AUTO_INCREMENT, record_model VARCHAR(255) NOT NULL, record_id BIGINT NOT NULL, author_name VARCHAR(255) NOT NULL, author_email VARCHAR(255), author_website VARCHAR(255), body LONGTEXT NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_error (id BIGINT AUTO_INCREMENT, php_class VARCHAR(127) NOT NULL, name VARCHAR(255) NOT NULL, description TEXT, module VARCHAR(127), action VARCHAR(127), uri VARCHAR(255) NOT NULL, env VARCHAR(63) NOT NULL, created_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_group_permission (dm_group_id BIGINT, dm_permission_id BIGINT, PRIMARY KEY(dm_group_id, dm_permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_layout (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, template VARCHAR(255) DEFAULT 'page' NOT NULL, css_class VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_lock (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, user_name VARCHAR(255) NOT NULL, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, record_id BIGINT UNSIGNED DEFAULT 0 NOT NULL, time BIGINT NOT NULL, app VARCHAR(127) NOT NULL, url VARCHAR(255) NOT NULL, culture VARCHAR(15) NOT NULL, UNIQUE INDEX dmLockIndex_idx (user_id, module, action, record_id), INDEX user_id_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_mail_template_translation (id BIGINT, description TEXT, subject TEXT NOT NULL, body LONGTEXT NOT NULL, from_email TEXT NOT NULL, to_email TEXT, cc_email TEXT, bcc_email TEXT, reply_to_email TEXT, sender_email TEXT, list_unsuscribe TEXT, is_html TINYINT(1) DEFAULT '0' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_mail_template (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, vars TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_media (id BIGINT AUTO_INCREMENT, dm_media_folder_id BIGINT NOT NULL, file VARCHAR(255) NOT NULL, legend VARCHAR(255), author VARCHAR(255), license VARCHAR(255), mime VARCHAR(63) NOT NULL, size INT UNSIGNED, dimensions VARCHAR(15), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX folderFile_idx (dm_media_folder_id, file), INDEX dm_media_folder_id_idx (dm_media_folder_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_media_folder (id BIGINT AUTO_INCREMENT, rel_path VARCHAR(255) NOT NULL UNIQUE, lft INT, rgt INT, level SMALLINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page_translation (id BIGINT, slug VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, title VARCHAR(255), h1 VARCHAR(255), description VARCHAR(255), keywords VARCHAR(255), auto_mod VARCHAR(6) DEFAULT 'snthdk' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_secure TINYINT(1) DEFAULT '0' NOT NULL, is_indexable TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, record_id BIGINT UNSIGNED DEFAULT 0 NOT NULL, credentials VARCHAR(255), lft INT, rgt INT, level SMALLINT, UNIQUE INDEX recordModuleAction_idx (module, action, record_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page_view (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, dm_layout_id BIGINT, UNIQUE INDEX dmPageViewModuleAction_idx (module, action), INDEX dm_layout_id_idx (dm_layout_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_redirect (id BIGINT AUTO_INCREMENT, source VARCHAR(255) NOT NULL UNIQUE, dest VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_remember_key (dm_user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, INDEX dm_user_id_idx (dm_user_id), PRIMARY KEY(ip_address)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_sent_mail (id BIGINT AUTO_INCREMENT, dm_mail_template_id BIGINT, subject TEXT NOT NULL, body LONGTEXT NOT NULL, from_email TEXT NOT NULL, to_email TEXT, cc_email TEXT, bcc_email TEXT, reply_to_email TEXT, sender_email TEXT, strategy VARCHAR(255), transport VARCHAR(255), culture VARCHAR(16), debug_string LONGTEXT, created_at DATETIME NOT NULL, INDEX dm_mail_template_id_idx (dm_mail_template_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_setting_translation (id BIGINT, description VARCHAR(255), value TEXT, default_value TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_setting (id BIGINT AUTO_INCREMENT, name VARCHAR(127) NOT NULL UNIQUE, type VARCHAR(255) DEFAULT 'text' NOT NULL, params TEXT, group_name VARCHAR(255) DEFAULT '' NOT NULL, credentials VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_tag (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_trans_unit (id BIGINT AUTO_INCREMENT, dm_catalogue_id BIGINT NOT NULL, source TEXT NOT NULL, target TEXT NOT NULL, meta VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX dm_catalogue_id_idx (dm_catalogue_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX dm_user_type_idx (type), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user_group (dm_user_id BIGINT, dm_group_id BIGINT, PRIMARY KEY(dm_user_id, dm_group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user_permission (dm_user_id BIGINT, dm_permission_id BIGINT, PRIMARY KEY(dm_user_id, dm_permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_widget_translation (id BIGINT, value TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_widget (id BIGINT AUTO_INCREMENT, dm_zone_id BIGINT NOT NULL, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, css_class VARCHAR(255), position BIGINT, updated_at DATETIME NOT NULL, INDEX dm_zone_id_idx (dm_zone_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_zone (id BIGINT AUTO_INCREMENT, dm_area_id BIGINT NOT NULL, css_class VARCHAR(255), width VARCHAR(15), position BIGINT, INDEX dm_area_id_idx (dm_area_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE document (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE employment (id BIGINT AUTO_INCREMENT, address VARCHAR(255), zipcode BIGINT, phone VARCHAR(32), fax VARCHAR(32), website VARCHAR(255), ocupation VARCHAR(255), years VARCHAR(255), income_value FLOAT(18, 2), income_recurrence VARCHAR(255), client_id BIGINT NOT NULL, company_id BIGINT NOT NULL, city_id BIGINT, INDEX client_id_idx (client_id), INDEX company_id_idx (company_id), INDEX city_id_idx (city_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_version (id BIGINT, title VARCHAR(128) NOT NULL, date_start DATETIME NOT NULL, date_end DATETIME NOT NULL, description LONGTEXT NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_new TINYINT(1) DEFAULT '1' NOT NULL, address VARCHAR(255) NOT NULL, bolsa BIGINT, dm_user_id BIGINT, category_id BIGINT NOT NULL, status_id BIGINT NOT NULL, city_id BIGINT NOT NULL, client_id BIGINT, property_id BIGINT NOT NULL, phraseology_id BIGINT, service_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_dm_tag (id BIGINT, dm_tag_id BIGINT, PRIMARY KEY(id, dm_tag_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event (id BIGINT AUTO_INCREMENT, title VARCHAR(128) NOT NULL, date_start DATETIME NOT NULL, date_end DATETIME NOT NULL, description LONGTEXT NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_new TINYINT(1) DEFAULT '1' NOT NULL, address VARCHAR(255) NOT NULL, bolsa BIGINT, dm_user_id BIGINT, category_id BIGINT NOT NULL, status_id BIGINT NOT NULL, city_id BIGINT NOT NULL, client_id BIGINT, property_id BIGINT NOT NULL, phraseology_id BIGINT, service_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, version BIGINT, INDEX service_id_idx (service_id), INDEX property_id_idx (property_id), INDEX phraseology_id_idx (phraseology_id), INDEX city_id_idx (city_id), INDEX category_id_idx (category_id), INDEX status_id_idx (status_id), INDEX client_id_idx (client_id), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_category (id BIGINT AUTO_INCREMENT, name VARCHAR(128) NOT NULL, css_class_list VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_category_status (id BIGINT AUTO_INCREMENT, event_status_id BIGINT NOT NULL, event_category_id BIGINT NOT NULL, INDEX event_status_id_idx (event_status_id), INDEX event_category_id_idx (event_category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_document (id BIGINT AUTO_INCREMENT, event_id BIGINT NOT NULL, document_id BIGINT NOT NULL, INDEX document_id_idx (document_id), INDEX event_id_idx (event_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_feed_back (id BIGINT AUTO_INCREMENT, event_id BIGINT NOT NULL, comments LONGTEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX event_id_idx (event_id), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_service (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE event_status (id BIGINT AUTO_INCREMENT, name VARCHAR(128) NOT NULL, css_class_list VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE expense (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, forgot_password_code VARCHAR(12) UNIQUE, first_name VARCHAR(32) NOT NULL, last_name VARCHAR(32) NOT NULL, phone VARCHAR(32), type VARCHAR(255), home_phone VARCHAR(32), licence VARCHAR(32), assigned_to BIGINT, ssn BIGINT, dob DATETIME, source_id BIGINT, aff_company_id BIGINT, aff_source_id BIGINT, ass_source_id BIGINT, extag_company_id BIGINT, extag_source_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX is_active_idx_idx (is_active), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), INDEX extag_company_id_idx (extag_company_id), INDEX source_id_idx (source_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE file_type (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, css_class_list VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE income (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE incomming_call_dm_tag (id BIGINT, dm_tag_id BIGINT, PRIMARY KEY(id, dm_tag_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE incomming_call (id BIGINT AUTO_INCREMENT, dm_user_id BIGINT NOT NULL, time_in_min BIGINT DEFAULT 0 NOT NULL, description LONGTEXT, reason_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX reason_id_idx (reason_id), INDEX dm_user_id_idx (dm_user_id), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE incomming_call_reason (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE liabilities (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE loan_rate_type (id BIGINT AUTO_INCREMENT, name VARCHAR(64), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE payee (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE payment (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE phraseology (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, content LONGTEXT NOT NULL, pos_rank BIGINT DEFAULT 0 NOT NULL, neg_rank BIGINT DEFAULT 0 NOT NULL, is_active TINYINT(1) DEFAULT '1', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE property (id BIGINT AUTO_INCREMENT, client_id BIGINT NOT NULL, address VARCHAR(255) NOT NULL, bank_id BIGINT, parcel BIGINT, city_id BIGINT NOT NULL, rooms_number BIGINT, bath_rooms_number BIGINT, zipcode BIGINT, sqft BIGINT, lote BIGINT, year_built INT, years_on_property MEDIUMINT, people_on_property SMALLINT, rent_amount_received FLOAT(18, 2), tasa FLOAT(18, 2), modified_year VARCHAR(4), brought_year VARCHAR(4), current_debt FLOAT(18, 2), estimated_current_value FLOAT(18, 2), property_payment FLOAT(18, 2), taxes_included_in_payment TINYINT(1), property_type_id BIGINT, property_use_id BIGINT, property_loan_rate_type_id BIGINT, INDEX property_loan_rate_type_id_idx (property_loan_rate_type_id), INDEX property_use_id_idx (property_use_id), INDEX property_type_id_idx (property_type_id), INDEX bank_id_idx (bank_id), INDEX client_id_idx (client_id), INDEX city_id_idx (city_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE property_type (id BIGINT AUTO_INCREMENT, name VARCHAR(64), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE property_use (id BIGINT AUTO_INCREMENT, name VARCHAR(64), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE source (id BIGINT AUTO_INCREMENT, name VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE state (id BIGINT AUTO_INCREMENT, name VARCHAR(32) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE transaction (id BIGINT AUTO_INCREMENT, date DATE NOT NULL, amount DECIMAL(18, 2) NOT NULL, type VARCHAR(255) NOT NULL, category_id BIGINT NOT NULL, account_id BIGINT NOT NULL, validated TINYINT(1) DEFAULT '0' NOT NULL, payment_id BIGINT NOT NULL, payee_id BIGINT, description LONGTEXT, enabled TINYINT(1) DEFAULT '0' NOT NULL, max_ocurrences BIGINT, every BIGINT NOT NULL, unit VARCHAR(255) NOT NULL, next_on DATE, INDEX transaction_type_idx (type), INDEX category_id_idx (category_id), INDEX account_id_idx (account_id), INDEX payment_id_idx (payment_id), INDEX payee_id_idx (payee_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE wallet (id BIGINT AUTO_INCREMENT, owner VARCHAR(64) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE account ADD CONSTRAINT account_wallet_id_wallet_id FOREIGN KEY (wallet_id) REFERENCES wallet(id) ON DELETE RESTRICT;
ALTER TABLE account ADD CONSTRAINT account_bank_id_bank_id FOREIGN KEY (bank_id) REFERENCES bank(id) ON DELETE RESTRICT;
ALTER TABLE account ADD CONSTRAINT account_account_type_id_account_type_id FOREIGN KEY (account_type_id) REFERENCES account_type(id) ON DELETE RESTRICT;
ALTER TABLE advise ADD CONSTRAINT advise_file_type_id_file_type_id FOREIGN KEY (file_type_id) REFERENCES file_type(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_updated_by_dm_user_id FOREIGN KEY (updated_by) REFERENCES dm_user(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_source_id_source_id FOREIGN KEY (source_id) REFERENCES source(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_aff_company_id_company_id FOREIGN KEY (aff_company_id) REFERENCES company(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_ass_source_id_source_id FOREIGN KEY (ass_source_id) REFERENCES source(id);
ALTER TABLE transaction ADD CONSTRAINT transaction_payment_id_payment_id FOREIGN KEY (payment_id) REFERENCES payment(id) ON DELETE RESTRICT;
ALTER TABLE transaction ADD CONSTRAINT transaction_payee_id_payee_id FOREIGN KEY (payee_id) REFERENCES payee(id) ON DELETE RESTRICT;
ALTER TABLE transaction ADD CONSTRAINT transaction_category_id_category_id FOREIGN KEY (category_id) REFERENCES category(id) ON DELETE RESTRICT;
ALTER TABLE transaction ADD CONSTRAINT transaction_account_id_account_id FOREIGN KEY (account_id) REFERENCES account(id) ON DELETE CASCADE;
ALTER TABLE category ADD CONSTRAINT category_wallet_id_wallet_id FOREIGN KEY (wallet_id) REFERENCES wallet(id) ON DELETE CASCADE;
ALTER TABLE city ADD CONSTRAINT city_state_id_state_id FOREIGN KEY (state_id) REFERENCES state(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_assigned_to_dm_user_id FOREIGN KEY (assigned_to) REFERENCES dm_user(id) ON DELETE RESTRICT;
ALTER TABLE client_assets ADD CONSTRAINT client_assets_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE client_assets ADD CONSTRAINT client_assets_asset_id_asset_id FOREIGN KEY (asset_id) REFERENCES asset(id) ON DELETE CASCADE;
ALTER TABLE client_expenses ADD CONSTRAINT client_expenses_expense_id_expense_id FOREIGN KEY (expense_id) REFERENCES expense(id) ON DELETE CASCADE;
ALTER TABLE client_expenses ADD CONSTRAINT client_expenses_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE client_file_version ADD CONSTRAINT client_file_version_id_client_file_id FOREIGN KEY (id) REFERENCES client_file(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE client_file ADD CONSTRAINT client_file_updated_by_dm_user_id FOREIGN KEY (updated_by) REFERENCES dm_user(id);
ALTER TABLE client_file ADD CONSTRAINT client_file_file_type_file_type_id FOREIGN KEY (file_type) REFERENCES file_type(id) ON DELETE RESTRICT;
ALTER TABLE client_file ADD CONSTRAINT client_file_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) ON DELETE RESTRICT;
ALTER TABLE client_file ADD CONSTRAINT client_file_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id);
ALTER TABLE client_file ADD CONSTRAINT client_file_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE client_file ADD CONSTRAINT client_file_assigned_to_dm_user_id FOREIGN KEY (assigned_to) REFERENCES dm_user(id) ON DELETE RESTRICT;
ALTER TABLE client_incomes ADD CONSTRAINT client_incomes_income_id_income_id FOREIGN KEY (income_id) REFERENCES income(id) ON DELETE CASCADE;
ALTER TABLE client_incomes ADD CONSTRAINT client_incomes_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE client_liabilities ADD CONSTRAINT client_liabilities_liabilities_id_liabilities_id FOREIGN KEY (liabilities_id) REFERENCES liabilities(id) ON DELETE CASCADE;
ALTER TABLE client_liabilities ADD CONSTRAINT client_liabilities_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE comment ADD CONSTRAINT comment_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE comment ADD CONSTRAINT comment_client_file_id_client_file_id FOREIGN KEY (client_file_id) REFERENCES client_file(id) ON DELETE CASCADE;
ALTER TABLE company_expenses ADD CONSTRAINT company_expenses_wallet_id_wallet_id FOREIGN KEY (wallet_id) REFERENCES wallet(id) ON DELETE CASCADE;
ALTER TABLE company_expenses ADD CONSTRAINT company_expenses_expense_id_expense_id FOREIGN KEY (expense_id) REFERENCES expense(id) ON DELETE CASCADE;
ALTER TABLE company_expenses ADD CONSTRAINT company_expenses_company_id_company_id FOREIGN KEY (company_id) REFERENCES company(id) ON DELETE CASCADE;
ALTER TABLE dm_area ADD CONSTRAINT dm_area_dm_page_view_id_dm_page_view_id FOREIGN KEY (dm_page_view_id) REFERENCES dm_page_view(id) ON DELETE CASCADE;
ALTER TABLE dm_area ADD CONSTRAINT dm_area_dm_layout_id_dm_layout_id FOREIGN KEY (dm_layout_id) REFERENCES dm_layout(id) ON DELETE CASCADE;
ALTER TABLE dm_auto_seo_translation ADD CONSTRAINT dm_auto_seo_translation_id_dm_auto_seo_id FOREIGN KEY (id) REFERENCES dm_auto_seo(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_group_permission ADD CONSTRAINT dm_group_permission_dm_permission_id_dm_permission_id FOREIGN KEY (dm_permission_id) REFERENCES dm_permission(id) ON DELETE CASCADE;
ALTER TABLE dm_group_permission ADD CONSTRAINT dm_group_permission_dm_group_id_dm_group_id FOREIGN KEY (dm_group_id) REFERENCES dm_group(id) ON DELETE CASCADE;
ALTER TABLE dm_lock ADD CONSTRAINT dm_lock_user_id_dm_user_id FOREIGN KEY (user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_mail_template_translation ADD CONSTRAINT dm_mail_template_translation_id_dm_mail_template_id FOREIGN KEY (id) REFERENCES dm_mail_template(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_media ADD CONSTRAINT dm_media_dm_media_folder_id_dm_media_folder_id FOREIGN KEY (dm_media_folder_id) REFERENCES dm_media_folder(id) ON DELETE CASCADE;
ALTER TABLE dm_page_translation ADD CONSTRAINT dm_page_translation_id_dm_page_id FOREIGN KEY (id) REFERENCES dm_page(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_page_view ADD CONSTRAINT dm_page_view_dm_layout_id_dm_layout_id FOREIGN KEY (dm_layout_id) REFERENCES dm_layout(id) ON DELETE SET NULL;
ALTER TABLE dm_remember_key ADD CONSTRAINT dm_remember_key_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_sent_mail ADD CONSTRAINT dm_sent_mail_dm_mail_template_id_dm_mail_template_id FOREIGN KEY (dm_mail_template_id) REFERENCES dm_mail_template(id) ON DELETE SET NULL;
ALTER TABLE dm_setting_translation ADD CONSTRAINT dm_setting_translation_id_dm_setting_id FOREIGN KEY (id) REFERENCES dm_setting(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_trans_unit ADD CONSTRAINT dm_trans_unit_dm_catalogue_id_dm_catalogue_id FOREIGN KEY (dm_catalogue_id) REFERENCES dm_catalogue(id) ON DELETE CASCADE;
ALTER TABLE dm_user_group ADD CONSTRAINT dm_user_group_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_user_group ADD CONSTRAINT dm_user_group_dm_group_id_dm_group_id FOREIGN KEY (dm_group_id) REFERENCES dm_group(id) ON DELETE CASCADE;
ALTER TABLE dm_user_permission ADD CONSTRAINT dm_user_permission_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_user_permission ADD CONSTRAINT dm_user_permission_dm_permission_id_dm_permission_id FOREIGN KEY (dm_permission_id) REFERENCES dm_permission(id) ON DELETE CASCADE;
ALTER TABLE dm_widget_translation ADD CONSTRAINT dm_widget_translation_id_dm_widget_id FOREIGN KEY (id) REFERENCES dm_widget(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_widget ADD CONSTRAINT dm_widget_dm_zone_id_dm_zone_id FOREIGN KEY (dm_zone_id) REFERENCES dm_zone(id) ON DELETE CASCADE;
ALTER TABLE dm_zone ADD CONSTRAINT dm_zone_dm_area_id_dm_area_id FOREIGN KEY (dm_area_id) REFERENCES dm_area(id) ON DELETE CASCADE;
ALTER TABLE employment ADD CONSTRAINT employment_company_id_company_id FOREIGN KEY (company_id) REFERENCES company(id) ON DELETE CASCADE;
ALTER TABLE employment ADD CONSTRAINT employment_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE employment ADD CONSTRAINT employment_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id);
ALTER TABLE event_version ADD CONSTRAINT event_version_id_event_id FOREIGN KEY (id) REFERENCES event(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE event_dm_tag ADD CONSTRAINT event_dm_tag_id_event_id FOREIGN KEY (id) REFERENCES event(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE event_dm_tag ADD CONSTRAINT event_dm_tag_dm_tag_id_dm_tag_id FOREIGN KEY (dm_tag_id) REFERENCES dm_tag(id) ON DELETE CASCADE;
ALTER TABLE event ADD CONSTRAINT event_updated_by_dm_user_id FOREIGN KEY (updated_by) REFERENCES dm_user(id);
ALTER TABLE event ADD CONSTRAINT event_status_id_event_status_id FOREIGN KEY (status_id) REFERENCES event_status(id) ON DELETE RESTRICT;
ALTER TABLE event ADD CONSTRAINT event_service_id_event_service_id FOREIGN KEY (service_id) REFERENCES event_service(id);
ALTER TABLE event ADD CONSTRAINT event_property_id_property_id FOREIGN KEY (property_id) REFERENCES property(id);
ALTER TABLE event ADD CONSTRAINT event_phraseology_id_phraseology_id FOREIGN KEY (phraseology_id) REFERENCES phraseology(id) ON DELETE RESTRICT;
ALTER TABLE event ADD CONSTRAINT event_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id);
ALTER TABLE event ADD CONSTRAINT event_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE SET NULL;
ALTER TABLE event ADD CONSTRAINT event_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id) ON DELETE RESTRICT;
ALTER TABLE event ADD CONSTRAINT event_category_id_event_category_id FOREIGN KEY (category_id) REFERENCES event_category(id) ON DELETE RESTRICT;
ALTER TABLE event_category_status ADD CONSTRAINT event_category_status_event_status_id_event_status_id FOREIGN KEY (event_status_id) REFERENCES event_status(id) ON DELETE CASCADE;
ALTER TABLE event_category_status ADD CONSTRAINT event_category_status_event_category_id_event_category_id FOREIGN KEY (event_category_id) REFERENCES event_category(id) ON DELETE CASCADE;
ALTER TABLE event_document ADD CONSTRAINT event_document_event_id_event_id FOREIGN KEY (event_id) REFERENCES event(id);
ALTER TABLE event_document ADD CONSTRAINT event_document_document_id_document_id FOREIGN KEY (document_id) REFERENCES document(id);
ALTER TABLE event_feed_back ADD CONSTRAINT event_feed_back_updated_by_dm_user_id FOREIGN KEY (updated_by) REFERENCES dm_user(id);
ALTER TABLE event_feed_back ADD CONSTRAINT event_feed_back_event_id_event_id FOREIGN KEY (event_id) REFERENCES event(id);
ALTER TABLE event_feed_back ADD CONSTRAINT event_feed_back_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id);
ALTER TABLE dm_user ADD CONSTRAINT dm_user_extag_company_id_company_id FOREIGN KEY (extag_company_id) REFERENCES company(id);
ALTER TABLE incomming_call_dm_tag ADD CONSTRAINT incomming_call_dm_tag_id_incomming_call_id FOREIGN KEY (id) REFERENCES incomming_call(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE incomming_call_dm_tag ADD CONSTRAINT incomming_call_dm_tag_dm_tag_id_dm_tag_id FOREIGN KEY (dm_tag_id) REFERENCES dm_tag(id) ON DELETE CASCADE;
ALTER TABLE incomming_call ADD CONSTRAINT incomming_call_updated_by_dm_user_id FOREIGN KEY (updated_by) REFERENCES dm_user(id);
ALTER TABLE incomming_call ADD CONSTRAINT incomming_call_reason_id_incomming_call_reason_id FOREIGN KEY (reason_id) REFERENCES incomming_call_reason(id) ON DELETE RESTRICT;
ALTER TABLE incomming_call ADD CONSTRAINT incomming_call_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE incomming_call ADD CONSTRAINT incomming_call_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id);
ALTER TABLE property ADD CONSTRAINT property_property_use_id_property_use_id FOREIGN KEY (property_use_id) REFERENCES property_use(id);
ALTER TABLE property ADD CONSTRAINT property_property_type_id_property_type_id FOREIGN KEY (property_type_id) REFERENCES property_type(id);
ALTER TABLE property ADD CONSTRAINT property_property_loan_rate_type_id_loan_rate_type_id FOREIGN KEY (property_loan_rate_type_id) REFERENCES loan_rate_type(id);
ALTER TABLE property ADD CONSTRAINT property_client_id_dm_user_id FOREIGN KEY (client_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE property ADD CONSTRAINT property_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id);
ALTER TABLE property ADD CONSTRAINT property_bank_id_bank_id FOREIGN KEY (bank_id) REFERENCES bank(id) ON DELETE RESTRICT;
